{% extends "base.html" %}

{% block title %}Furniglass - {% if lang == 'ru' %}Премиум Мебель{% elif lang == 'en' %}Premium Furniture{% else %}Premium Mebel{% endif %}{% endblock %}

{% block extra_css %}
<style>
    :root {
        --primary: #1a1a2e;
        --accent: #f59e0b;
        --accent-hover: #d97706;
        --light: #fafafa;
    }
    
    /* Smooth scrolling */
    html { scroll-behavior: smooth; }
    
    /* Hero - Premium Minimalist */
    .hero-section {
        position: relative;
        height: 100vh;
        min-height: 700px;
        overflow: hidden;
    }
    
    .hero-bg-image {
        position: absolute;
        inset: 0;
        background-image: url('/uploads/designs/3.jpg');
        background-size: cover;
        background-position: center;
    }
    
    @media (min-width: 768px) {
        .hero-bg-image {
            background-attachment: fixed;
        }
    }
    
    .hero-bg-image::after {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(to right, rgba(26,26,46,0.95) 0%, rgba(26,26,46,0.7) 50%, rgba(26,26,46,0.5) 100%);
    }
    
    @media (max-width: 767px) {
        .hero-bg-image::after {
            background: linear-gradient(to bottom, rgba(26,26,46,0.8) 0%, rgba(26,26,46,0.9) 100%);
        }
    }
    
    /* Text reveal animation */
    @keyframes textReveal {
        0% { opacity: 0; transform: translateY(40px); }
        100% { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes lineExpand {
        0% { width: 0; }
        100% { width: 60px; }
    }
    
    .animate-reveal {
        animation: textReveal 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        opacity: 0;
    }
    
    .animate-line {
        animation: lineExpand 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        animation-delay: 0.8s;
    }
    
    .animate-reveal-delay-1 { animation-delay: 0.15s; }
    .animate-reveal-delay-2 { animation-delay: 0.3s; }
    .animate-reveal-delay-3 { animation-delay: 0.45s; }
    .animate-reveal-delay-4 { animation-delay: 0.6s; }
    
    /* Product card - Premium */
    .product-card {
        position: relative;
        overflow: hidden;
        background: #fff;
    }
    
    .product-card .card-image {
        position: relative;
        overflow: hidden;
    }
    
    .product-card .card-image::before {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(to top, rgba(26,26,46,0.6) 0%, transparent 50%);
        opacity: 0;
        transition: opacity 0.4s ease;
        z-index: 1;
    }
    
    .product-card:hover .card-image::before {
        opacity: 1;
    }
    
    .product-card .card-image img {
        transition: transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    }
    
    .product-card:hover .card-image img {
        transform: scale(1.08);
    }
    
    .product-card .card-actions {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 16px;
        display: flex;
        gap: 8px;
        transform: translateY(100%);
        opacity: 0;
        transition: all 0.4s ease;
        z-index: 2;
    }
    
    .product-card:hover .card-actions {
        transform: translateY(0);
        opacity: 1;
    }
    
    .product-card .card-content {
        padding: 16px;
        background: #fff;
    }
    
    /* Category card */
    .category-card {
        position: relative;
        overflow: hidden;
        transition: all 0.5s ease;
    }
    
    .category-card::after {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(to top, rgba(26,26,46,0.9) 0%, rgba(26,26,46,0.3) 50%, transparent 100%);
        transition: all 0.4s;
    }
    
    .category-card:hover::after {
        background: linear-gradient(to top, rgba(26,26,46,0.95) 0%, rgba(26,26,46,0.5) 60%, rgba(26,26,46,0.2) 100%);
    }
    
    .category-card:hover img {
        transform: scale(1.08);
    }
    
    .category-card:hover .category-content {
        transform: translateY(-8px);
    }
    
    .category-card img {
        transition: transform 0.6s ease;
    }
    
    .category-content {
        transition: transform 0.4s ease;
    }
    
    /* Section reveal */
    .reveal-section {
        opacity: 0;
        transform: translateY(50px);
        transition: all 0.8s ease;
    }
    
    .reveal-section.revealed {
        opacity: 1;
        transform: translateY(0);
    }
    
    /* Line clamp */
    .line-clamp-1 { display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden; }
    .line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section -mt-[70px] md:-mt-[80px]">
    <div class="hero-bg-image"></div>
    
    <div class="relative h-full flex items-center">
        <div class="container mx-auto px-6 lg:px-16">
            <div class="max-w-3xl">
                <!-- Accent Line -->
                <div class="animate-line h-[2px] bg-[#f59e0b] mb-8 w-0"></div>
                
                <!-- Subtitle -->
                <p class="animate-reveal text-[#f59e0b] text-xs md:text-sm tracking-[0.3em] uppercase mb-4">
                    {% if lang == 'ru' %}Премиум мебель{% elif lang == 'en' %}Premium Furniture{% else %}Premium Mebel{% endif %}
                </p>
                
                <!-- Main Title -->
                <h1 class="animate-reveal animate-reveal-delay-1 text-white text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-semibold leading-[1.1] mb-6">
                    {% if lang == 'ru' %}Мебель вашей<br>мечты{% elif lang == 'en' %}Furniture of<br>Your Dreams{% else %}Orzuingizdagi<br>mebel{% endif %}
            </h1>
            
                <!-- Tagline -->
                <p class="animate-reveal animate-reveal-delay-2 text-white/70 text-base md:text-lg max-w-xl mb-10 leading-relaxed">
                    {% if lang == 'ru' %}Создаём уникальную мебель для кафе, ресторанов, клиник и домов с 1999 года{% elif lang == 'en' %}Creating unique furniture for cafes, restaurants, clinics and homes since 1999{% else %}1999 yildan beri kafe, restoran, klinika va uylar uchun noyob mebellar yaratamiz{% endif %}
                </p>
                
                <!-- CTA Buttons -->
                <div class="animate-reveal animate-reveal-delay-3 flex flex-wrap gap-4">
                    <a href="/products" class="bg-[#f59e0b] hover:bg-[#d97706] text-white px-8 py-4 text-sm tracking-wider uppercase font-medium transition-colors">
                        {% if lang == 'ru' %}Каталог{% elif lang == 'en' %}Catalog{% else %}Katalog{% endif %}
                    </a>
                    <a href="/contact" class="border border-white/40 text-white px-8 py-4 text-sm tracking-wider uppercase font-medium hover:bg-white hover:text-[#1a1a2e] transition-all">
                        {% if lang == 'ru' %}Связаться{% elif lang == 'en' %}Contact{% else %}Bog'lanish{% endif %}
                    </a>
                </div>
                
                <!-- Stats Row -->
                <div class="animate-reveal animate-reveal-delay-4 flex gap-10 md:gap-16 mt-16 pt-8 border-t border-white/20">
                    <div>
                        <p class="text-3xl md:text-4xl font-bold text-white">25+</p>
                        <p class="text-white/50 text-xs tracking-wider uppercase mt-1">{% if lang == 'ru' %}Лет опыта{% elif lang == 'en' %}Years{% else %}Yil tajriba{% endif %}</p>
                    </div>
                    <div>
                        <p class="text-3xl md:text-4xl font-bold text-white">5000+</p>
                        <p class="text-white/50 text-xs tracking-wider uppercase mt-1">{% if lang == 'ru' %}Клиентов{% elif lang == 'en' %}Clients{% else %}Mijozlar{% endif %}</p>
                    </div>
                    <div>
                        <p class="text-3xl md:text-4xl font-bold text-white">2500+</p>
                        <p class="text-white/50 text-xs tracking-wider uppercase mt-1">{% if lang == 'ru' %}Проектов{% elif lang == 'en' %}Projects{% else %}Loyihalar{% endif %}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Main Categories -->
{% if main_categories %}
<section class="py-16 lg:py-24 bg-white reveal-section">
    <div class="container mx-auto px-6 lg:px-16">
        <!-- Section Header -->
        <div class="max-w-3xl mb-12 lg:mb-16">
            <p class="text-[#f59e0b] text-xs tracking-[0.2em] uppercase mb-3">{% if lang == 'ru' %}Наши направления{% elif lang == 'en' %}Our Directions{% else %}Bizning yo'nalishlar{% endif %}</p>
            <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold text-[#1a1a2e] leading-tight">
                {% if lang == 'ru' %}Мебель для каждого пространства{% elif lang == 'en' %}Furniture for every space{% else %}Har bir makon uchun mebel{% endif %}
            </h2>
                        </div>
        
        <!-- Categories Grid -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6">
            {% for main_cat in main_categories %}
            <a href="/main-category/{{ main_cat.slug }}" class="category-card group relative aspect-[3/4] md:aspect-[2/3]">
                {% if main_cat.image %}
                <img src="/uploads/{{ main_cat.image }}" alt="{{ main_cat.get_name(lang) }}"
                     class="absolute inset-0 w-full h-full object-cover">
                    {% else %}
                <div class="absolute inset-0 bg-gradient-to-br from-[#1a1a2e] to-[#2d2d44]"></div>
                    {% endif %}
                
                <div class="category-content absolute inset-0 z-10 flex flex-col justify-end p-6 lg:p-8">
                    <span class="text-[#f59e0b] text-xs tracking-wider uppercase mb-2">0{{ loop.index }}</span>
                    <h3 class="text-2xl md:text-3xl font-bold text-white mb-3">
                        {{ main_cat.get_name(lang) }}
                    </h3>
                    <div class="flex items-center gap-2 text-white/70 text-sm group-hover:text-[#f59e0b] transition-colors">
                        <span>{% if lang == 'ru' %}Смотреть{% elif lang == 'en' %}Explore{% else %}Ko'rish{% endif %}</span>
                        <svg class="w-4 h-4 group-hover:translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                        </svg>
                    </div>
                </div>
            </a>
            {% endfor %}
        </div>
                        </div>
</section>
{% endif %}

<!-- Services Strip -->
<section class="py-6 bg-[#1a1a2e]">
    <div class="container mx-auto px-6 lg:px-16">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
            <div class="flex items-center gap-4">
                <div class="w-12 h-12 border border-[#f59e0b]/40 flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5 text-[#f59e0b]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                    </svg>
                </div>
                <p class="text-white text-sm font-medium">25 {% if lang == 'ru' %}лет гарантии{% elif lang == 'en' %}years warranty{% else %}yil kafolat{% endif %}</p>
                        </div>
            <div class="flex items-center gap-4">
                <div class="w-12 h-12 border border-[#f59e0b]/40 flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5 text-[#f59e0b]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"/>
                    </svg>
                </div>
                <p class="text-white text-sm font-medium">{% if lang == 'ru' %}Бесплатная доставка{% elif lang == 'en' %}Free delivery{% else %}Bepul yetkazish{% endif %}</p>
            </div>
            <div class="flex items-center gap-4">
                <div class="w-12 h-12 border border-[#f59e0b]/40 flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5 text-[#f59e0b]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z"/>
                    </svg>
                </div>
                <p class="text-white text-sm font-medium">{% if lang == 'ru' %}Индивидуальный дизайн{% elif lang == 'en' %}Custom design{% else %}Individual dizayn{% endif %}</p>
            </div>
            <div class="flex items-center gap-4">
                <div class="w-12 h-12 border border-[#f59e0b]/40 flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5 text-[#f59e0b]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                    </svg>
                </div>
                <p class="text-white text-sm font-medium">{% if lang == 'ru' %}Премиум качество{% elif lang == 'en' %}Premium quality{% else %}Premium sifat{% endif %}</p>
            </div>
        </div>
    </div>
</section>

<!-- Featured Products -->
{% if bestsellers %}
<section class="py-16 lg:py-24 bg-[#f8f8f8] reveal-section">
    <div class="container mx-auto px-6 lg:px-16">
        <!-- Section Header -->
        <div class="flex flex-col lg:flex-row lg:items-end justify-between gap-6 mb-12">
            <div class="max-w-2xl">
                <p class="text-[#f59e0b] text-xs tracking-[0.2em] uppercase mb-3">{% if lang == 'ru' %}Коллекция{% elif lang == 'en' %}Collection{% else %}Kolleksiya{% endif %}</p>
                <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold text-[#1a1a2e]">
                    {% if lang == 'ru' %}Популярные товары{% elif lang == 'en' %}Popular Products{% else %}Mashhur mahsulotlar{% endif %}
            </h2>
            </div>
            <a href="/products" class="group flex items-center gap-3 text-[#1a1a2e] hover:text-[#f59e0b] transition-colors">
                <span class="text-sm font-medium">{% if lang == 'ru' %}Все товары{% elif lang == 'en' %}All products{% else %}Barcha mahsulotlar{% endif %}</span>
                <svg class="w-5 h-5 group-hover:translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                </svg>
            </a>
                        </div>
        
        <!-- Products Grid -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 lg:gap-8">
            {% for product in bestsellers[:12] %}
            <article class="product-card group">
                <div class="card-image aspect-[4/5] bg-[#f5f5f5]">
                                {% if product.images %}
                                    {% set images = product.images|from_json %}
                                    {% if images %}
                                        <img src="/uploads/{{ images[0] }}" alt="{{ product.get_name(lang) }}" 
                             class="w-full h-full object-cover">
                                    {% endif %}
                                {% endif %}
                    
                    {% if product.is_bestseller %}
                    <span class="absolute top-4 left-4 z-10 bg-[#f59e0b] text-white text-[10px] tracking-widest uppercase px-3 py-1.5 font-medium">
                        {% if lang == 'ru' %}Хит{% elif lang == 'en' %}Best{% else %}Top{% endif %}
                    </span>
                    {% endif %}
                    
                    <div class="card-actions">
                        <a href="/product/{{ product.id }}" class="flex-1 bg-white text-[#1a1a2e] text-center py-3 text-xs font-medium tracking-wider uppercase hover:bg-[#f59e0b] hover:text-white transition">
                            {% if lang == 'ru' %}Подробнее{% elif lang == 'en' %}Details{% else %}Batafsil{% endif %}
                        </a>
                        <button class="add-to-cart-btn w-12 bg-[#1a1a2e] text-white flex items-center justify-center hover:bg-[#f59e0b] transition"
                                data-product-id="{{ product.id }}">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 4v16m8-8H4"/>
                            </svg>
                                    </button>
                    </div>
                        </div>
                
                <div class="card-content">
                    <p class="text-[11px] text-[#f59e0b] tracking-widest uppercase mb-2">
                        {{ product.category.get_name(lang) if product.category else 'Mebel' }}
                    </p>
                    <a href="/product/{{ product.id }}" class="block">
                        <h3 class="text-[#1a1a2e] font-medium mb-3 line-clamp-1 group-hover:text-[#f59e0b] transition-colors">
                            {{ product.get_name(lang) }}
                        </h3>
                    </a>
                    <div class="flex items-baseline gap-2">
                        <span class="text-xl font-light text-[#1a1a2e]">${{ "%.0f"|format(product.price) }}</span>
                        <span class="text-sm text-gray-400 line-through">${{ "%.0f"|format(product.price * 1.2) }}</span>
                    </div>
                </div>
            </article>
            {% endfor %}
            </div>
        
        <!-- View All Button (Mobile) -->
        <div class="mt-10 text-center lg:hidden">
            <a href="/products" class="inline-block border-2 border-[#1a1a2e] text-[#1a1a2e] px-8 py-4 text-sm tracking-wider uppercase font-medium hover:bg-[#1a1a2e] hover:text-white transition-all">
                {% if lang == 'ru' %}Все товары{% elif lang == 'en' %}All products{% else %}Barcha mahsulotlar{% endif %}
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- All Categories Section -->
{% if categories %}
<section class="py-16 lg:py-24 bg-white reveal-section">
    <div class="container mx-auto px-6 lg:px-16">
        <!-- Section Header -->
        <div class="flex flex-col lg:flex-row lg:items-end justify-between gap-6 mb-12">
            <div class="max-w-2xl">
                <p class="text-[#f59e0b] text-xs tracking-[0.2em] uppercase mb-3">{% if lang == 'ru' %}Категории{% elif lang == 'en' %}Categories{% else %}Kategoriyalar{% endif %}</p>
                <h2 class="text-3xl md:text-4xl font-bold text-[#1a1a2e] leading-tight">
                    {% if lang == 'ru' %}Все категории мебели{% elif lang == 'en' %}All Furniture Categories{% else %}Barcha mebel kategoriyalari{% endif %}
            </h2>
            </div>
        </div>
        
        <!-- Categories Grid -->
        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 lg:gap-6">
            {% for category in categories[:12] %}
            <a href="/products?category={{ category.id }}" class="category-card group relative aspect-[4/3]">
                        {% if category.image %}
                    <img src="/uploads/{{ category.image }}" alt="{{ category.get_name(lang) }}" 
                     class="absolute inset-0 w-full h-full object-cover">
                        {% else %}
                <div class="absolute inset-0 bg-gradient-to-br from-[#2a2a3e] to-[#1a1a2e]"></div>
                    {% endif %}
                
                <div class="category-content absolute inset-0 z-10 flex flex-col justify-end p-4 lg:p-6">
                    <h3 class="font-bold text-lg lg:text-xl text-white mb-1">
                        {{ category.get_name(lang) }}
                    </h3>
                    <p class="text-white/60 text-xs">{{ category.products|length }} {% if lang == 'ru' %}товаров{% elif lang == 'en' %}products{% else %}mahsulot{% endif %}</p>
                </div>
            </a>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- About Section -->
<section class="py-16 lg:py-24 bg-[#1a1a2e] reveal-section">
    <div class="container mx-auto px-6 lg:px-16">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center">
            <!-- Image -->
            <div class="relative">
                <div class="aspect-[4/5] overflow-hidden">
                    <img src="/uploads/designs/2.jpg" alt="Furniglass" class="w-full h-full object-cover">
                </div>
                <!-- Floating Stats -->
                <div class="absolute -bottom-6 -right-4 lg:-right-6 bg-[#f59e0b] p-6 lg:p-8">
                    <p class="text-4xl lg:text-5xl font-bold text-white">25+</p>
                    <p class="text-white/80 text-xs tracking-wider uppercase mt-1">{% if lang == 'ru' %}Лет опыта{% elif lang == 'en' %}Years{% else %}Yil tajriba{% endif %}</p>
                </div>
            </div>
            
            <!-- Content -->
            <div>
                <p class="text-[#f59e0b] text-xs tracking-[0.2em] uppercase mb-3">{% if lang == 'ru' %}О компании{% elif lang == 'en' %}About Us{% else %}Biz haqimizda{% endif %}</p>
                <h2 class="text-3xl md:text-4xl font-bold text-white leading-tight mb-6">
                    {% if lang == 'ru' %}Мы создаём мебель вашей мечты{% elif lang == 'en' %}We create furniture of your dreams{% else %}Biz sizning orzuingizdagi mebellarni yaratamiz{% endif %}
                </h2>
                <p class="text-white/60 leading-relaxed mb-8">
                    {% if lang == 'ru' %}
                    С 1999 года мы производим премиальную мебель для кафе, ресторанов, клиник и частных домов. Каждое изделие создаётся с любовью к деталям и стремлением к совершенству.
                    {% elif lang == 'en' %}
                    Since 1999, we have been producing premium furniture for cafes, restaurants, clinics and private homes. Each piece is created with love for details and striving for perfection.
                    {% else %}
                    1999 yildan beri biz kafe, restoran, klinika va xususiy uylar uchun premium mebellar ishlab chiqaramiz. Har bir buyum tafsilotlarga muhabbat va mukammallikka intilish bilan yaratilgan.
                    {% endif %}
                </p>
                
                <!-- Features Grid -->
                <div class="grid grid-cols-2 gap-6 mb-8">
                    <div class="flex items-start gap-3">
                        <div class="w-8 h-8 bg-[#f59e0b]/20 flex items-center justify-center flex-shrink-0 mt-1">
                            <svg class="w-4 h-4 text-[#f59e0b]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                            </svg>
                        </div>
                        <div>
                            <p class="text-white font-medium text-sm">{% if lang == 'ru' %}Премиум материалы{% elif lang == 'en' %}Premium materials{% else %}Premium materiallar{% endif %}</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-3">
                        <div class="w-8 h-8 bg-[#f59e0b]/20 flex items-center justify-center flex-shrink-0 mt-1">
                            <svg class="w-4 h-4 text-[#f59e0b]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                            </svg>
                        </div>
                        <div>
                            <p class="text-white font-medium text-sm">{% if lang == 'ru' %}25 лет гарантии{% elif lang == 'en' %}25 years warranty{% else %}25 yil kafolat{% endif %}</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-3">
                        <div class="w-8 h-8 bg-[#f59e0b]/20 flex items-center justify-center flex-shrink-0 mt-1">
                            <svg class="w-4 h-4 text-[#f59e0b]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                            </svg>
                        </div>
                        <div>
                            <p class="text-white font-medium text-sm">{% if lang == 'ru' %}Бесплатная доставка{% elif lang == 'en' %}Free delivery{% else %}Bepul yetkazish{% endif %}</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-3">
                        <div class="w-8 h-8 bg-[#f59e0b]/20 flex items-center justify-center flex-shrink-0 mt-1">
                            <svg class="w-4 h-4 text-[#f59e0b]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                            </svg>
                        </div>
                        <div>
                            <p class="text-white font-medium text-sm">{% if lang == 'ru' %}Индивидуальный дизайн{% elif lang == 'en' %}Custom design{% else %}Individual dizayn{% endif %}</p>
                        </div>
                    </div>
                </div>
                
                <a href="/about" class="inline-flex items-center gap-3 text-[#f59e0b] hover:text-white transition-colors group">
                    <span class="text-sm font-medium">{% if lang == 'ru' %}Подробнее о нас{% elif lang == 'en' %}More about us{% else %}Biz haqimizda batafsil{% endif %}</span>
                    <svg class="w-5 h-5 group-hover:translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                    </svg>
                </a>
                </div>
        </div>
    </div>
</section>

<!-- Process Section -->
<section class="py-16 lg:py-24 bg-white reveal-section">
    <div class="container mx-auto px-6 lg:px-16">
        <!-- Header -->
        <div class="text-center max-w-3xl mx-auto mb-12">
            <p class="text-[#f59e0b] text-xs tracking-[0.2em] uppercase mb-3">{% if lang == 'ru' %}Процесс{% elif lang == 'en' %}Process{% else %}Jarayon{% endif %}</p>
            <h2 class="text-3xl md:text-4xl font-bold text-[#1a1a2e]">
                {% if lang == 'ru' %}Как мы работаем{% elif lang == 'en' %}How we work{% else %}Qanday ishlaymiz{% endif %}
            </h2>
        </div>
        
        <!-- Steps -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <div class="text-center group">
                <div class="w-16 h-16 mx-auto mb-5 border-2 border-[#f59e0b]/30 flex items-center justify-center group-hover:bg-[#f59e0b] group-hover:border-[#f59e0b] transition-all">
                    <span class="text-2xl font-bold text-[#f59e0b] group-hover:text-white transition-colors">01</span>
                </div>
                <h3 class="font-bold text-[#1a1a2e] mb-2">{% if lang == 'ru' %}Консультация{% elif lang == 'en' %}Consultation{% else %}Maslahat{% endif %}</h3>
                <p class="text-gray-500 text-sm">{% if lang == 'ru' %}Обсуждаем ваши идеи{% elif lang == 'en' %}Discuss your ideas{% else %}G'oyalaringizni muhokama qilamiz{% endif %}</p>
            </div>
            <div class="text-center group">
                <div class="w-16 h-16 mx-auto mb-5 border-2 border-[#f59e0b]/30 flex items-center justify-center group-hover:bg-[#f59e0b] group-hover:border-[#f59e0b] transition-all">
                    <span class="text-2xl font-bold text-[#f59e0b] group-hover:text-white transition-colors">02</span>
                        </div>
                <h3 class="font-bold text-[#1a1a2e] mb-2">{% if lang == 'ru' %}3D Дизайн{% elif lang == 'en' %}3D Design{% else %}3D Dizayn{% endif %}</h3>
                <p class="text-gray-500 text-sm">{% if lang == 'ru' %}Визуализация проекта{% elif lang == 'en' %}Project visualization{% else %}Loyiha vizualizatsiyasi{% endif %}</p>
                    </div>
            <div class="text-center group">
                <div class="w-16 h-16 mx-auto mb-5 border-2 border-[#f59e0b]/30 flex items-center justify-center group-hover:bg-[#f59e0b] group-hover:border-[#f59e0b] transition-all">
                    <span class="text-2xl font-bold text-[#f59e0b] group-hover:text-white transition-colors">03</span>
                </div>
                <h3 class="font-bold text-[#1a1a2e] mb-2">{% if lang == 'ru' %}Производство{% elif lang == 'en' %}Production{% else %}Ishlab chiqarish{% endif %}</h3>
                <p class="text-gray-500 text-sm">{% if lang == 'ru' %}Изготовление мебели{% elif lang == 'en' %}Furniture manufacturing{% else %}Mebel yasash{% endif %}</p>
            </div>
            <div class="text-center group">
                <div class="w-16 h-16 mx-auto mb-5 border-2 border-[#f59e0b]/30 flex items-center justify-center group-hover:bg-[#f59e0b] group-hover:border-[#f59e0b] transition-all">
                    <span class="text-2xl font-bold text-[#f59e0b] group-hover:text-white transition-colors">04</span>
                </div>
                <h3 class="font-bold text-[#1a1a2e] mb-2">{% if lang == 'ru' %}Доставка{% elif lang == 'en' %}Delivery{% else %}Yetkazish{% endif %}</h3>
                <p class="text-gray-500 text-sm">{% if lang == 'ru' %}Доставляем и устанавливаем{% elif lang == 'en' %}Deliver and install{% else %}Yetkazamiz va o'rnatamiz{% endif %}</p>
            </div>
        </div>
    </div>
</section>

<!-- More Products Section -->
{% if bestsellers %}
<section class="py-16 lg:py-24 bg-[#f8f8f8] reveal-section">
    <div class="container mx-auto px-6 lg:px-16">
        <div class="flex flex-col lg:flex-row lg:items-end justify-between gap-6 mb-12">
            <div class="max-w-2xl">
                <p class="text-[#f59e0b] text-xs tracking-[0.2em] uppercase mb-3">{% if lang == 'ru' %}Популярное{% elif lang == 'en' %}Popular{% else %}Ommabop{% endif %}</p>
                <h2 class="text-3xl md:text-4xl font-bold text-[#1a1a2e]">
                    {% if lang == 'ru' %}Ещё больше товаров{% elif lang == 'en' %}More Products{% else %}Ko'proq mahsulotlar{% endif %}
                </h2>
            </div>
        </div>
        
        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 lg:gap-6">
            {% for product in bestsellers[12:22] %}
            <article class="product-card group bg-white">
                <a href="/product/{{ product.id }}" class="block">
                    <div class="relative aspect-[3/4] overflow-hidden bg-[#f0f0f0]">
                        {% if product.images %}
                            {% set images = product.images|from_json %}
                            {% if images %}
                            <img src="/uploads/{{ images[0] }}" alt="{{ product.get_name(lang) }}" 
                                 class="product-img w-full h-full object-cover">
                            {% endif %}
                        {% endif %}
                    </div>
                    <div class="p-3">
                        <h3 class="font-semibold text-[#1a1a2e] text-sm mb-1 line-clamp-1 group-hover:text-[#f59e0b] transition-colors">
                            {{ product.get_name(lang) }}
                        </h3>
                        <p class="font-bold text-[#1a1a2e]">${{ "%.0f"|format(product.price) }}</p>
                </div>
            </a>
            </article>
            {% endfor %}
        </div>
        
        <div class="mt-10 text-center">
            <a href="/products" class="inline-flex items-center gap-3 border-2 border-[#1a1a2e] text-[#1a1a2e] px-8 py-4 text-sm tracking-wider uppercase font-medium hover:bg-[#1a1a2e] hover:text-white transition-all">
                {% if lang == 'ru' %}Смотреть все{% elif lang == 'en' %}View all{% else %}Barchasini ko'rish{% endif %}
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                </svg>
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- Testimonials -->
<section class="py-16 lg:py-24 bg-white reveal-section">
    <div class="container mx-auto px-6 lg:px-16">
        <div class="flex flex-col md:flex-row md:items-end justify-between gap-6 mb-12">
            <div>
                <p class="text-[#f59e0b] text-xs tracking-[0.2em] uppercase mb-3">{% if lang == 'ru' %}Отзывы{% elif lang == 'en' %}Testimonials{% else %}Fikrlar{% endif %}</p>
                <h2 class="text-3xl md:text-4xl font-bold text-[#1a1a2e]">
                    {% if lang == 'ru' %}Что говорят клиенты{% elif lang == 'en' %}What clients say{% else %}Mijozlar fikri{% endif %}
            </h2>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="bg-[#f8f8f8] p-8 border-l-4 border-[#f59e0b]">
                <p class="text-gray-600 leading-relaxed mb-6">
                    {% if lang == 'ru' %}"Превосходное качество и внимание к деталям. Мебель стала украшением нашего ресторана."{% elif lang == 'en' %}"Excellent quality and attention to detail. The furniture has become a decoration of our restaurant."{% else %}"Ajoyib sifat va tafsilotlarga e'tibor. Mebel bizning restorantimizning bezagiga aylandi."{% endif %}
                </p>
                <div class="flex items-center gap-3">
                    <div class="w-12 h-12 bg-[#1a1a2e] flex items-center justify-center text-white font-bold">AK</div>
                    <div>
                        <p class="font-bold text-[#1a1a2e]">Alisher Karimov</p>
                        <p class="text-sm text-gray-400">{% if lang == 'ru' %}Ресторатор{% elif lang == 'en' %}Restaurateur{% else %}Restorator{% endif %}</p>
                    </div>
                </div>
            </div>
            
            <div class="bg-[#f8f8f8] p-8 border-l-4 border-[#f59e0b]">
                <p class="text-gray-600 leading-relaxed mb-6">
                    {% if lang == 'ru' %}"Профессиональный подход от начала до конца. Рекомендую всем, кто ценит качество."{% elif lang == 'en' %}"Professional approach from start to finish. I recommend to everyone who values quality."{% else %}"Boshidan oxirigacha professional yondashuv. Sifatni qadrlaydigan hammaga tavsiya qilaman."{% endif %}
                </p>
                <div class="flex items-center gap-3">
                    <div class="w-12 h-12 bg-[#1a1a2e] flex items-center justify-center text-white font-bold">DN</div>
                        <div>
                        <p class="font-bold text-[#1a1a2e]">Dilnoza Nazarova</p>
                        <p class="text-sm text-gray-400">{% if lang == 'ru' %}Дизайнер{% elif lang == 'en' %}Designer{% else %}Dizayner{% endif %}</p>
                        </div>
                        </div>
                        </div>

            <div class="bg-[#f8f8f8] p-8 border-l-4 border-[#f59e0b]">
                <p class="text-gray-600 leading-relaxed mb-6">
                    {% if lang == 'ru' %}"Мебель идеально вписалась в интерьер клиники. Пациенты довольны!"{% elif lang == 'en' %}"The furniture fits perfectly into the clinic interior. Patients are happy!"{% else %}"Mebel klinika interyeriga mukammal mos keldi. Bemorlar mamnun!"{% endif %}
                </p>
                <div class="flex items-center gap-3">
                    <div class="w-12 h-12 bg-[#1a1a2e] flex items-center justify-center text-white font-bold">SO</div>
                        <div>
                        <p class="font-bold text-[#1a1a2e]">Sardor Otaboyev</p>
                        <p class="text-sm text-gray-400">{% if lang == 'ru' %}Директор клиники{% elif lang == 'en' %}Clinic Director{% else %}Klinika direktori{% endif %}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="py-20 lg:py-28 bg-[#1a1a2e] reveal-section">
    <div class="container mx-auto px-6 lg:px-16">
        <div class="max-w-3xl mx-auto text-center">
            <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold text-white leading-tight mb-6">
                {% if lang == 'ru' %}Готовы к сотрудничеству?{% elif lang == 'en' %}Ready to collaborate?{% else %}Hamkorlikka tayyormisiz?{% endif %}
            </h2>
            <p class="text-white/60 text-base mb-10 max-w-xl mx-auto">
                {% if lang == 'ru' %}Свяжитесь с нами для бесплатной консультации{% elif lang == 'en' %}Contact us for a free consultation{% else %}Bepul maslahat uchun biz bilan bog'laning{% endif %}
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="/contact" class="bg-[#f59e0b] hover:bg-[#d97706] text-white px-10 py-4 text-sm tracking-wider uppercase font-medium transition-colors">
                    {% if lang == 'ru' %}Связаться{% elif lang == 'en' %}Contact Us{% else %}Bog'lanish{% endif %}
                </a>
                <a href="tel:+998712000262" class="border border-white/30 text-white px-10 py-4 text-sm tracking-wider uppercase font-medium hover:bg-white/10 transition-colors">
                    71 200 02 62
                </a>
            </div>
        </div>
    </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const revealSections = document.querySelectorAll('.reveal-section');
    
    const revealObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('revealed');
                revealObserver.unobserve(entry.target);
            }
        });
    }, {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    });
    
    revealSections.forEach(section => revealObserver.observe(section));
});
</script>
{% endblock %}
